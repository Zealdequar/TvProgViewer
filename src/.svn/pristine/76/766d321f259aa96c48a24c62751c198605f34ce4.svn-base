using System;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.Serialization;
using System.ServiceModel;
using System.ServiceModel.Web;
using System.Text;
using TVProgViewer.BusinessLogic.ProgObjs;
using TVProgViewer.BusinessLogic.Users;

namespace TVProgViewer.TVProgService
{
    public class MainService : IMainService
    {
        public int AddUser(string userName, string passHash, string passExtend, string lastName,
            string firstName, string middleName, DateTime birthDate, bool? gender, string email, string mobPhone,
            string otherPhone1, string otherPhone2, string address, string gmtZone)
        {
            return DataAccess.Adapters.UsersAdapter.UserStart(userName, passHash, passExtend, lastName, firstName,
                middleName, birthDate, gender, email, mobPhone, otherPhone1, otherPhone2, address, gmtZone);
        }

        public SecureData GetHashes(string userName)
        {
            return DataAccess.Adapters.UsersAdapter.GetHashes(userName);
        }

        public User GetUser(long uid, out int errCode)
        {
            return DataAccess.Adapters.UsersAdapter.GetUser(uid, out errCode);
        }

        public List<ProviderType> GetProviderTypeList()
        {
            return DataAccess.Adapters.TvProgAdapter.GetTvProviderTypes();
        }

        public List<SystemChannel> GetSystemChannelList(int tvProgProviderID)
        {
            return DataAccess.Adapters.TvProgAdapter.GetSystemChannels(tvProgProviderID);
        }

        public List<SystemProgramme> GetSystemProgrammeList(int typeProgID, DateTimeOffset dateTimeOffset, int mode)
        {
            return DataAccess.Adapters.TvProgAdapter.GetSystemProgrammes(typeProgID, dateTimeOffset, mode);
        }

        public ProgPeriod GetSystemProgrammePeriod(int typeProgID)
        {
            return DataAccess.Adapters.TvProgAdapter.GetSystemProgrammePeriod(typeProgID);
        }

        public List<SystemProgramme> GetSystemProgrammeDayList(int typeProgID, int cid, DateTime tsStart, DateTime tsStop)
        {
            return DataAccess.Adapters.TvProgAdapter.GetProgrammeOfDay(typeProgID, cid, tsStart, tsStop);
        }

        public void InsertUserChannel(int userChannelID, long uid, int typeProgID, int cid, string displayName, int orderCol)
        {
            DataAccess.Adapters.TvProgAdapter.InsertUserChannel(userChannelID, uid, typeProgID, cid, displayName, orderCol);
        }

        public void DeleteUserChannel(long uid, int cid)
        {
            DataAccess.Adapters.TvProgAdapter.DeleteUserChannel(uid, cid);
        }

        public List<UserChannel> GetUserChannelList(long uid, int typeProgID)
        {
            return DataAccess.Adapters.TvProgAdapter.GetUserChannels(uid, typeProgID);
        }

        public List<SystemProgramme> GetUserProgrammeList(long uid, int typeProgID, DateTimeOffset dateTimeOffset, int mode)
        {
            return DataAccess.Adapters.TvProgAdapter.GetUserProgrammes(uid, typeProgID, dateTimeOffset, mode);
        }

        public List<SystemProgramme> GetUserProgrammeDayList(long uid, int typeProgID, int cid, DateTime tsStart, DateTime tsStop)
        {
            return DataAccess.Adapters.TvProgAdapter.GetUserProgrammeOfDay(uid, typeProgID, cid, tsStart, tsStop);
        }
    }
}
